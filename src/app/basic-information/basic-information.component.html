<div *ngFor="let alert of alerts" id="alertBox">
  <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout" (onClosed)="onClosed(alert)">{{ alert.msg }}</alert>
</div>
<h3 *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="accountType">
  Personal Account
</h3>
<h3 *ngIf="user.role === 'SiteManager' || user.role === 'EquipmentDealer'" class="accountType">
  Organization Account
</h3>
<hr class="my-3">
<div>
    <div class="input-group-append infoFld">
      <label for="username" class="col-sm-2 col-form-label">Username</label>
      <!--<div class="col-sm-10">-->
        <!--<li class="list-group-item" id = 'username'>{{user.username}}</li>-->
      <!--</div>-->
      <input [(ngModel)]="user.username"
             placeholder="username"
             class="form-control"
             id="username"
             readonly/>
    </div>

  <div *ngIf="user.role === 'SiteManager' || user.role === 'EquipmentDealer'" class="input-group-append infoFld">
    <label for="organizationName" class="col-sm-2 col-form-label">Organization Name</label>
    <input [(ngModel)]="provider.organizationName"
           placeholder="Organization Name"
           id="organizationName"
           class="form-control"/>
  </div>

  <div *ngIf="user.role === 'SiteManager' || user.role === 'EquipmentDealer'" class="input-group-append infoFld">
    <label for="organizationAddress" class="col-sm-2 col-form-label">Organization Address</label>
    <input [(ngModel)]="provider.organizationAddress"
           placeholder="Organization Address"
           id="organizationAddress"
           class="form-control"/>
  </div>

    <div *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="input-group-append infoFld">
      <label for="firstName" class="col-sm-2 col-form-label">First Name</label>
      <input [(ngModel)]="user.firstName"
             placeholder="first name"
             id="firstName"
             class="form-control"/>
    </div>

    <div *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="input-group-append infoFld">
      <label for="lastName" class="col-sm-2 col-form-label">Last Name</label>
      <input [(ngModel)]="user.lastName"
             placeholder="lastName"
             id="lastName"
             class="form-control"/>
    </div>

  <div *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="input-group-append infoFld">
    <label for="lastName" class="col-sm-2 col-form-label">Photo Url</label>
    <input [(ngModel)]="user.profilePhoto"
           placeholder="profile photo url"
           id="profilePhoto"
           class="form-control"/>
  </div>

    <div *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="input-group-append infoFld">
      <label for="dob" class="col-sm-2 col-form-label">Date of Birth</label>
      <input type="text"
             [(ngModel)]="user.dateOfBirth"
             placeholder="Date of Birth"
             class="form-control"
             id="dob"
             [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }"
             bsDatepicker>
    </div>

    <div class="input-group-append infoFld">
      <label for="phone" class="col-sm-2 col-form-label">Phone</label>
      <input [(ngModel)]="user.phoneNumber"
             placeholder="phone"
             id="phone"
             class="form-control"/>
    </div>

    <div class="input-group-append infoFld">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <input [(ngModel)]="user.email"
             placeholder="email"
             id="email"
             class="form-control"/>
    </div>


  <div *ngIf="user.role === 'SiteManager' || user.role === 'EquipmentDealer'" class="input-group-append infoFld">
    <label for="serviceType" class="col-sm-2 col-form-label">Service Type</label>
    <input [(ngModel)]="provider.role"
           placeholder="Service Type"
           id="serviceType"
           readonly
           class="form-control"/>
  </div>

    <div *ngIf="user.role !== 'SiteManager' && user.role !== 'EquipmentDealer'" class="input-group-append infoFld">
      <label for="address" class="col-sm-2 col-form-label">Address</label>
      <input [(ngModel)]="user.address"
             placeholder="address"
             id="address"
             class="form-control"/>
    </div>

    <hr class="my-4">
    <div class="form-group row" id="saveBtn">
      <div class="col-sm-10">
        <button (click)="update()" class="btn btn-primary">Save</button>
        <button (click)="openModal(deleteConfirm)" id="deleteBtn" class="btn btn-danger">Delete Account</button>
        <button *ngIf="user.username === 'admin' && user.password === 'admin'" id="adminBtn" routerLink="/admin" class="btn btn-dark">Admin</button>
      </div>
    </div>

    <ng-template #deleteConfirm>
      <div class="modal-body text-center">
        <p>Are you sure you want to <strong>DELETE</strong> this account?</p>
        <button id="confirmDelete" type="button" class="btn btn-danger" (click)="delete()" >Delete</button>
        <button type="button" class="btn btn-default" (click)="modalRef.hide();" >Cancel</button>
      </div>
    </ng-template>
</div>
